{% extends 'base.html' %}

{%block title %} View Orders {% endblock %}


{% block body %}
<h2 class="text-white bg-dark p-2 text-center rounded">
    View Orders  
    <a href="/admin-page" class="btn btn-primary btn-sm float-end">Go Back</a>
</h2>

<table class="table table-dark table-hover">
    <thead>
        <tr>

            <th scope="col">Order ID</th>
            <th scope="col">Payment ID</th>

            <th scope="col">UserName</th>
            <th scope="col">Customer Email</th>

            <th scope="col">Product Name</th>
            <th scope="col">Delivery Address</th>
            <th scope="col">Price</th>
            <th scope="col">Quantity</th>

            <th scope="col">Picture</th>
            <th scope="col">Status</th>
            <th scope="col">Action</th>


        </tr>
    </thead>

    <tbody>

        {% for order in orders %}

        <tr>
            <td>{{ order.id }}</td>
            <td>{{ order.payment_id }}</td>

            <td>{{ order.customer.username }}</td>
            <td>{{ order.customer.email }}</td>
            <td>{{ order.product.product_name }}</td>
            <td>{{ order.delivery_address}}</td>
            <td>{{ order.price }}</td>
            <td>{{ order.quantity }}</td>

            <td><img src="{{ order.product.product_picture }}" alt="" style="height: 50px; width: 50px; border-radius: 2px;"></td>


            <td>{{ order.status}}</td>

            <td>
                <a href="/update-order/{{ order.id }}"><button type="submit" class="btn btn-primary btn-sm">Update Status</button></a>
                <form action="/delete-order/{{ order.id }}" method="POST" style="display:inline;">
                    <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this order?')">Delete</button>
                </form>
            </td>


        </tr>

        {% endfor %}
    </tbody>
</table>

{% endblock %}